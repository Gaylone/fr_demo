<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<base th:href="${#request.getContextPath()}+'/'">
	<meta charset="UTF-8">
	<meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
	<meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="format-detection" content="telephone=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta content="black" name="apple-mobile-web-app-status-bar-style">
	<link th:href="@{asserts/css/SYSFrame.css}" rel="stylesheet" type="text/css" />
	<link href="font/iconfont.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{asserts/css/module.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{asserts/css/pages.css}" rel="stylesheet" type="text/css" />
	<link th:href="@{asserts/css/style.css}" rel="stylesheet" type="text/css" />
	<title>技术员</title>
	<script th:src="@{asserts/js/jquery-1.9.1.min.js}" type="text/javascript"></script>
	<script th:src="@{asserts/js/jquery.nicescroll.js}" type="text/javascript"></script>
	<script th:src="@{asserts/js/HUpages.js}" type="text/javascript"></script>
	<script th:src="@{asserts/js/other/admin.js}" type="text/javascript"></script>
	<script th:src="@{asserts/js/common.js}" type="text/javascript"></script>
	<script th:src="@{asserts/js/template.js}" type="text/javascript"></script>
	<!--[if lt IE 9]>
	<script th:src="@{asserts/js/html5shiv.js}" type="text/javascript"></script>
	<script th:src="@{asserts/js/css3-mediaqueries.js}"  type="text/javascript"></script>
	<![endif]-->
</head>
<body id="pagestyle" class="backgroundf0">
<div class="bk-con-message message-section" id="iframe_box">
	<div class="box-module height100b margin0">
		<div class="box-title">技术员列表</div>
		<div class="box-content padding15" id="add_payment_style">
			<div class="Promp_plate alert-danger mb15">
				初始密码都是123456，请督促技术员修改原密码
			</div>
			<!--管理员列表-->

			<ul class="menulist Article-ope clearfix mb15">
				<li class="column-name l_f width0">
					<a title="添加技术员" class="btn button_btn bg-deep-blue menuUl_title"  data-id="675"><i class="iconfont">&#xe685</i>&nbsp;添加技术员</a>
				</li>
			</ul>

			<div class="administrator" id="administrator">
				<table class="table  table_striped table-bordered border" id="tableList">
					<thead>
					<tr>
						<th class="align">编号</th>
						<th class="align">姓名</th>
						<th width="200px" class="align">手机号</th>
						<th width="200px" class="align">专业</th>
						<th width="150px" class="align">账号</th>
						<th class="align">操作</th>
					</tr>
					</thead>
					<tbody>

					<tr th:each="techMan,techManList:${technicianPOJOList}">

						<td th:text="${techMan.tid}"></td>
						<td th:text="${techMan.tName}"></td>
						<td th:text="${techMan.tPhone}"></td>
						<td th:text="${techMan.tMajor}"></td>
						<td th:text="${techMan.account}"></td>
						<td th:switch="${techMan.status}">
							<button type="buttom" class="btn btn-green padding10" >编辑</button>
							<button th:case="0" type="buttom" class="btn btn-info padding10" th:onclick="freeze([[${techMan.tid}]])">冻结</button>
							<button th:case="1" type="buttom" class="btn btn-info padding10" th:onclick="active([[${techMan.tid}]])">恢复</button>
						</td>
					</tr>
					</tbody>
				</table>

			</div>
		</div>
	</div>
</div>
</body>
</html>

<script>
	$(function() {
		$("#pagestyle").Hupage({
			slide: '#breadcrumb',
			scrollbar: function(e) {
				e.niceScroll({
					cursorcolor: "#dddddd",
					cursoropacitymax: 1,
					touchbehavior: false,
					cursorwidth: "3px",
					cursorborder: "0",
					cursorborderradius: "3px",
				});
			},
			expand: function(thisBox, settings) {
				settings.scrollbar($(".box-content").css({
					height: $(window).height() - $('.box-title').outerHeight() - (settings.padding*2)
				})); //设置当前页滚动样式
			}
		});
	});
	//编辑数据
	var administrator = function(callback) {
		$.ajax({
			url: "json/userData.json",
			type: "GET",
			dataType: 'json',
			success: function(ret) {
				typeof callback == 'function' && callback(ret);
			},
		});
	};
	administrator(function(listArr) {
		var listhtml = $('#administrator');
		var html = template('administratorhtml', {
			list: listArr.administrator,
			grade: listArr.grade
		});
		listhtml.append(html);
		new TableSorter("tableList", 3 ,6); //设置
	});
	function competenceSort(e){
		var option=$(e).find("option:selected").text();
		var value=$(e).val();
		if(value==0){
			$("#tableList tbody tr").show()
		}
		else{
			$("#tableList tbody tr").hide().filter(":contains('"+(option)+"')").show();
		}
	};

</script>
